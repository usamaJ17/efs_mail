import{_ as U,I as n}from"./AuthenticatedLayout-D-vd2gWC.js";import{g as D,Q as N,x as h,o as r,a as l,d as a,u as o,e as x,F as m,Z as F,b as e,i as g,l as _,t as p,m as y,s as k,n as C,k as b,y as V,z}from"./app-DjBSZnOh.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const f=u=>(V("data-v-539c0d70"),u=u(),z(),u),L={class:"h-[calc(100vh-105px)] bg-transparent shadow-xl sm:rounded-lg flex flex-col justify-between rounded-xl"},O={class:"flex-none flex items-center justify-between bg-white px-5 py-5 rounded-r-xl rounded-t-xl"},Q={class:"flex items-center gap-2 md:gap-5"},Z={class:"relative group"},q=["checked"],G=f(()=>e("span",{class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300"}," Mark All ",-1)),H={class:"relative group"},J=f(()=>e("span",{class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300"}," Refresh ",-1)),K={class:"relative group"},W=f(()=>e("span",{class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300"}," Delete Selected ",-1)),X={class:"relative group"},Y=f(()=>e("span",{class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300"}," Read All ",-1)),ee={class:"flex items-center gap-5"},te={class:"flex items-center gap-2"},se={class:"text-gray-700 text-sm leading-tight"},oe={class:"bg-white flex items-center shadow-sm"},ae={class:"px-9 py-3 w-[300px] font-medium flex items-center text-md border-b border-[#0B57D0] text-[#0B57D0] hover:bg-slate-100"},re={class:"flex-auto overflow-y-auto"},ne={class:"w-full"},le={class:"border-t"},ie={class:"flex items-center space-x-2 overflow-hidden overflow-ellipsis w-[250px]"},ce=["checked","onChange"],de=["onClick"],ue=["onClick"],he={class:"flex flex-wrap gap-1 pl-2 justify-start"},pe={key:0,class:"font-bold text-xs text-left"},me={key:0,class:"font-bold text-xs text-left"},fe={class:"flex-grow space-x-2 md:min-w-[300px] md:pl-5 line-clamp-1"},xe={class:"whitespace-nowrap msg-subject-text"},ge=f(()=>e("span",{class:"hidden md:inline-block"},"-",-1)),_e={class:"block whitespace-normal msg-text"},be={class:"whitespace-nowrap"},ye={class:"block whitespace-normal msg-text"},ve={class:"flex-none md:ml-auto whitespace-nowrap flex items-center space-x-3 relative w-[72px] group"},we={class:"flex items-center space-x-3 group-hover:hidden"},ke={key:0},Ce={class:"items-center justify-center space-x-3 absolute right-0 top-1/2 -translate-y-1/2 w-[70px] hidden md:group-hover:flex"},je=["onClick"],Be=["onClick"],Se=["onClick"],$e=f(()=>e("div",{class:"flex-none flex items-center justify-center bg-white px-5 py-5"},[e("p",{class:"text-sm text-slate-700"},[e("a",{href:"#"},"Terms"),y(" Â· "),e("a",{href:"#"},"Privacy Policies")])],-1)),Ee={__name:"Index",props:{emails:Object,totalUnreadEmails:Number},setup(u){const j=t=>{route().current()==="inbox"?h.delete(route("emails.destroy",t)):route().current()==="trash"&&h.delete(route("emails.permanent.destroy",t))},B=t=>{h.visit(route("toggle-as-read",t))},S=t=>{h.visit(route("emails.restore",t))},$=t=>{h.visit(route("toggle-as-important",t))},E=t=>{h.visit(route("toggle-as-starred",t))},i=u,v=()=>i.totalUnreadEmails&&i.totalUnreadEmails>0?"("+i.totalUnreadEmails+")":"",c=D([]),I=()=>{i.emails.data.length===c.value.length?c.value=[]:i.emails.data.map(function(t){c.value.push(t.id)}),console.log("selected",c.value)},A=t=>{c.value.push(t)},M=()=>{h.post(route("emails.mark-read-all"),{emails:c.value})},R=()=>{h.post(route("emails.delete-many"),{emails:c.value})};return Echo.private("App.Models.User."+N().props.auth.user.id).listen("ReceiveEmailBroadcastEvent",t=>{console.log("hello there from email receives"),h.visit(route(route().current()),{only:["emails"]})}),(t,Ie)=>(r(),l(m,null,[a(o(F),{title:t.route().current()+v()},null,8,["title"]),a(U,null,{default:x(()=>[e("div",L,[e("div",O,[e("div",Q,[e("div",Z,[e("input",{type:"checkbox",checked:c.value.length===i.emails.data.length&c.value.length!==0,class:"form-checkbox h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500 focus:ring-2 transition duration-150 ease-in-out cursor-pointer",onChange:I},null,40,q),G]),e("div",H,[a(o(g),{href:t.route(t.route().current()),class:"w-9 h-9 bg-gray-100 text-gray-600 flex items-center justify-center rounded-full"},{default:x(()=>[a(o(n),{icon:"tdesign:refresh"})]),_:1},8,["href"]),J]),t.route().current()==="inbox"?(r(),l(m,{key:0},[e("div",K,[e("button",{onClick:R,class:"w-9 h-9 bg-gray-100 text-gray-600 flex items-center justify-center rounded-full"},[a(o(n),{icon:"tabler:trash"})]),W]),e("div",X,[e("button",{onClick:M,class:"w-9 h-9 bg-gray-100 text-gray-600 flex items-center justify-center rounded-full"},[a(o(n),{icon:"octicon:unread-24"})]),Y])],64)):_("",!0)]),e("div",ee,[e("div",te,[e("span",se,p(`${i.emails.from??0} - ${i.emails.to??0} of ${i.emails.total}`),1),a(o(g),{class:"text-gray-700 text-sm disabled:opacity-10",href:u.emails.prev_page_url,disabled:!!u.emails.prev_page_url},{default:x(()=>[a(o(n),{icon:"ri:arrow-left-s-line"})]),_:1},8,["href","disabled"]),a(o(g),{class:"text-gray-700 text-sm disabled:opacity-10",href:u.emails.next_page_url,disabled:!!u.emails.next_page_url},{default:x(()=>[a(o(n),{icon:"ri:arrow-right-s-line"})]),_:1},8,["href","disabled"])])])]),e("div",oe,[e("button",ae,[a(o(n),{icon:"material-symbols:broken-image-outline",class:"mr-3"}),y(" Primary "+p(v()),1)])]),e("div",re,[e("table",ne,[e("tbody",le,[(r(!0),l(m,null,k(i.emails.data,(s,T)=>(r(),l("tr",{key:T,class:C(["px-5 py-2 flex-col md:flex-row md:items-center flex border-b w-full items-start space-y-1 md:space-x-2 hover:shadow-md group",s.is_read?"":"bg-white"])},[e("td",ie,[e("input",{type:"checkbox",checked:c.value.find(d=>d===s.id),onChange:d=>A(s.id),class:"form-checkbox h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-0 transition duration-150 ease-in-out cursor-pointer"},null,40,ce),e("span",{onClick:d=>E(s.id),class:"cursor-pointer"},[a(o(n),{icon:s.is_starred?"ph:star-fill":"ph:star-light",class:C({"text-slate-700 w-5":!s.is_starred,"text-yellow-500 w-5":s.is_starred})},null,8,["icon","class"])],8,de),e("span",{onClick:d=>$(s.id),class:"cursor-pointer"},[s.is_important?(r(),b(o(n),{key:0,icon:"material-symbols:label-important-sharp",style:{color:"#F3C663"}})):(r(),b(o(n),{key:1,icon:"material-symbols:label-important-outline",width:"1.2em",height:"1.2em"}))],8,ue),e("button",he,[(r(!0),l(m,null,k(s.receivers,(d,w)=>(r(),l(m,{key:w},[w<2?(r(),l("span",pe,p(d.receiver_id===t.$page.props.auth.user.id?"me":d.user.name)+", ",1)):_("",!0)],64))),128)),s.receivers.length>2?(r(),l("span",me," and "+p(s.receivers.length-2)+" more ",1)):_("",!0)])]),e("td",fe,[t.route().current()!=="trash"?(r(),b(o(g),{key:0,href:t.route("emails.show",s.id),class:"flex gap-1 md:flex-row flex-col"},{default:x(()=>[e("strong",xe,p(s.subject),1),ge,e("span",_e,p(s.messages[0].content.substring(0,115).replace(/<[^>]*>?/gm,"")),1)]),_:2},1032,["href"])):(r(),l(m,{key:1},[e("strong",be,p(s.subject),1),y("- "),e("span",ye,p(s.messages[0].content.substring(0,115).replace(/<[^>]*>?/gm,"")),1)],64))]),e("td",ve,[e("div",we,[s.has_attachment?(r(),l("span",ke,[a(o(n),{icon:"ph:paperclip-horizontal-light"})])):_("",!0),e("span",null,p(s.created_at),1)]),e("div",Ce,[e("button",{onClick:d=>j(s.id),class:"w-6 h-6 bg-slate-300 rounded-full inline-flex justify-center items-center"},[a(o(n),{icon:"tabler:trash"})],8,je),t.route().current()!=="trash"?(r(),l("button",{key:0,onClick:d=>B(s.id),class:"w-6 h-6 bg-slate-300 rounded-full inline-flex justify-center items-center readStatus"},[a(o(n),{icon:"octicon:unread-24"})],8,Be)):(r(),l("button",{key:1,onClick:d=>S(s.id),class:"w-6 h-6 bg-slate-300 rounded-full inline-flex justify-center items-center readStatus"},[a(o(n),{icon:"hugeicons:waste-restore"})],8,Se))])])],2))),128))])])]),$e])]),_:1})],64))}},Te=P(Ee,[["__scopeId","data-v-539c0d70"]]);export{Te as default};
